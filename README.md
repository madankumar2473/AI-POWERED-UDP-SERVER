# AI-Powered DNS TXT Server

This project implements a UDP DNS server in Node.js that answers TXT DNS queries using AI-generated responses from Google Gemini (via the `@google/genai` SDK). The server listens for DNS queries and responds with a one-word AI-generated answer to the question encoded in the DNS query name.

## Features
- Listens for DNS queries over UDP (default port: 8000 or configurable)
- Answers TXT queries with responses generated by Google Gemini AI
- Simple integration with environment variables for API key management
- Easily testable with `dig` or other DNS tools

## Prerequisites
- Node.js (v18 or newer recommended)
- npm (Node package manager)
- Access to the Google Gemini API (API key required)

## Setup
1. **Clone the repository**
   ```sh
   git clone <repo-url>
   cd <project-directory>
   ```

2. **Install dependencies**
   ```sh
   npm install
   ```

3. **Create a `.env` file** in the project root:
   ```env
   GEMINI_API_KEY=your_actual_gemini_api_key_here
   ```
   Replace `your_actual_gemini_api_key_here` with your real Gemini API key.

## Environment Variables
- `GEMINI_API_KEY`: Your Google Gemini API key (required)

## Running the Server
By default, the server listens on UDP port 8000. You can change the port in `index.js` if needed.

```sh
node index.js
```
You should see:
```
the server is runnning at port 8000
```

## Testing with `dig`
You can test the server using the `dig` command:

```sh
dig TXT @localhost -p 8000 what.is.the.meaning.of.life
```

- The server will respond with a one-word AI-generated answer in the TXT record.
- If you run `dig` from WSL and the server is running on Windows, use the Windows host IP (see `/etc/resolv.conf` in WSL) instead of `localhost`.

## Troubleshooting
- **Port already in use**: Make sure no other process is using the configured UDP port.
- **Always getting 'error' as TXT response**: Check your API key, model name, and network connectivity. See the Node.js console for error logs.
- **Timeouts**: The AI call may be too slow for DNS. Try increasing the timeout or check your network/API quota.
- **API key issues**: Ensure your `.env` file is correct and the key is valid for Gemini API.

